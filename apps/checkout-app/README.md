# Checkout App

[Saleor App](https://docs.saleor.io/docs/3.x/developer/extending/apps/key-concepts) for payment gateways configuration and layout customisation of [Saleor Checkout](https://github.com/saleor/saleor-checkout/blob/main/apps/checkout/README.md)

## Setup

### Development

Run the development server:

```bash
pnpm dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

### Production

To build for production, run the following command:

```bash
cd ../.. && pnpm run build:payments-app
```

> Note: The command needs to be run from root of the monorepo. Otherwise Turborepo won't be able to build the app

## Env Variables

**Environment variables contain secrets that can lead to compromising your store data**

When **deploying** to Vercel you can set them on the [configuration page](https://vercel.com/docs/concepts/projects/environment-variables)

When running app **locally** you can use the [`.env.local`](https://nextjs.org/docs/basic-features/environment-variables#loading-environment-variables) file. **It should not be included in your git repository**. An example configuration is available in `.env.template`

### Backend variables

- `SALEOR_APP_ID` — ID assigned by Saleor after the app was installed
- `SALEOR_APP_TOKEN` — App's token generated by Saleor after the app was installed
- `SETTINGS_ENCRYPTION_SECRET` — Random string used for encrypting apps configuration

To generate a random secret you can use openssl:
```
openssl rand -hex 256
```

[Learn more](https://docs.saleor.io/docs/3.x/developer/extending/apps/installing-apps#installing-third-party-apps) about installing third-party apps in [Saleor docs](https://docs.saleor.io/docs/3.x/developer/extending/apps/installing-apps#installing-third-party-apps)

### Frontend variables

Each variable starting with [`NEXT_PUBLIC`](https://nextjs.org/docs/basic-features/environment-variables#exposing-environment-variables-to-the-browser) is exposed to frontend

- `NEXT_PUBLIC_SALEOR_API_URL` — URL of your Saleor GraphQL API
- `NEXT_PUBLIC_VERCEL_URL` — [`VERCEL_URL`](https://vercel.com/docs/concepts/projects/environment-variables#:~:text=or%20development.-,VERCEL_URL,-The%20URL%20of) env variable exposed to frontend in `.env.production`. It contains URL of the deployment, added automatically by Vercel

